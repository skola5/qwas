<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A complex pixel adventure game website with multiple features including gameplay, high scores, blog, contact, and more.">
    <meta name="keywords" content="pixel game, adventure, HTML5 game, web features">
    <title>Ultimate Pixel Adventure Hub</title>
    <style>
        :root {
            --bg-color: #111;
            --text-color: #fff;
            --accent-color: #ff0;
            --secondary-color: #222;
            --platform-color: #00ff00;
            --player-color: #ff0000;
            --enemy-color: #0000ff;
            --coin-color: #ffff00;
            --goal-color: #00ffff;
        }
        body.light-mode {
            --bg-color: #fff;
            --text-color: #000;
            --accent-color: #f00;
            --secondary-color: #eee;
            --platform-color: #00cc00;
            --player-color: #cc0000;
            --enemy-color: #0000cc;
            --coin-color: #cccc00;
            --goal-color: #00cccc;
        }
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: background 0.3s, color 0.3s;
        }
        header {
            width: 100%;
            background: var(--secondary-color);
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.5);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        nav ul {
            list-style: none;
            padding: 0;
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        nav a {
            color: var(--text-color);
            text-decoration: none;
            font-weight: bold;
            transition: color 0.3s;
        }
        nav a:hover {
            color: var(--accent-color);
        }
        #hero {
            background: var(--secondary-color);
            text-align: center;
            padding: 100px 20px;
            animation: fadeIn 2s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        #gameContainer {
            position: relative;
            margin: 40px auto;
            max-width: 640px;
        }
        canvas {
            border: 2px solid var(--text-color);
            background: #000;
            image-rendering: pixelated;
            display: block;
            margin: 0 auto;
            transition: border-color 0.3s;
            touch-action: none;
        }
        #scoreBoard, #levelIndicator {
            position: absolute;
            background: rgba(0,0,0,0.7);
            padding: 10px;
            border-radius: 5px;
            font-size: 18px;
        }
        #scoreBoard { top: 10px; left: 10px; }
        #levelIndicator { top: 10px; right: 10px; }
        section {
            max-width: 1200px;
            margin: 40px auto;
            padding: 20px;
            border-radius: 10px;
            background: var(--secondary-color);
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        #blog article {
            margin-bottom: 30px;
            border-bottom: 1px solid var(--text-color);
            padding-bottom: 20px;
        }
        form {
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-width: 600px;
            margin: 0 auto;
        }
        input, textarea, button {
            padding: 10px;
            border: 1px solid var(--text-color);
            border-radius: 5px;
            background: var(--bg-color);
            color: var(--text-color);
        }
        button:hover {
            background: var(--accent-color);
            color: var(--bg-color);
        }
        #themeToggle, #soundToggle, #fullscreenBtn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 10px;
            background: var(--secondary-color);
            border: none;
            cursor: pointer;
            z-index: 1000;
        }
        #soundToggle { right: 120px; }
        #fullscreenBtn { right: 220px; }
        #cookieConsent {
            position: fixed;
            bottom: 0;
            width: 100%;
            background: rgba(0,0,0,0.8);
            padding: 10px;
            text-align: center;
            display: none;
        }
        #cookieConsent button {
            margin-left: 10px;
        }
        #searchBar {
            max-width: 400px;
            margin: 20px auto;
        }
        #modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--secondary-color);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            z-index: 2000;
        }
        #closeModal {
            float: right;
            cursor: pointer;
        }
        .share-buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }
        .share-btn {
            padding: 10px 20px;
            background: var(--accent-color);
            color: var(--bg-color);
            text-decoration: none;
            border-radius: 5px;
        }
        footer {
            width: 100%;
            background: var(--secondary-color);
            padding: 20px;
            text-align: center;
            margin-top: auto;
        }
        @media (max-width: 768px) {
            nav ul { flex-direction: column; gap: 10px; }
            canvas { width: 100%; height: auto; }
            section { padding: 10px; }
        }
    </style>
</head>
<body>
    <header>
        <h1>Ultimate Pixel Adventure Hub</h1>
        <nav>
            <ul>
                <li><a href="#hero">Home</a></li>
                <li><a href="#game">Play Game</a></li>
                <li><a href="#instructions">Instructions</a></li>
                <li><a href="#highScores">High Scores</a></li>
                <li><a href="#blog">Blog</a></li>
                <li><a href="#contact">Contact</a></li>
                <li><a href="#about">About</a></li>
            </ul>
        </nav>
    </header>

    <section id="hero">
        <h2>Welcome to the Ultimate Pixel Adventure!</h2>
        <p>Dive into a world of pixelated excitement with advanced gameplay, community features, and more. Explore, play, and connect!</p>
        <button onclick="document.getElementById('game').scrollIntoView({behavior: 'smooth'})">Start Playing</button>
    </section>

    <div id="searchBar">
        <input type="text" id="siteSearch" placeholder="Search site..." oninput="searchSite()">
        <div id="searchResults"></div>
    </div>

    <section id="game">
        <h2>Play the Game</h2>
        <div id="gameContainer">
            <canvas id="gameCanvas" width="640" height="480" aria-label="Pixel Adventure Game Canvas"></canvas>
            <div id="scoreBoard">Score: 0 | Lives: 3</div>
            <div id="levelIndicator">Level: 1</div>
        </div>
        <div class="share-buttons">
            <a href="#" class="share-btn" onclick="shareGame('twitter')">Share on X</a>
            <a href="#" class="share-btn" onclick="shareGame('facebook')">Share on Facebook</a>
            <a href="#" class="share-btn" onclick="shareGame('link')">Copy Link</a>
        </div>
    </section>

    <section id="instructions">
        <h2>Game Instructions</h2>
        <p>Use arrow keys for movement, space to jump. Collect coins, avoid enemies, reach the goal. Advanced features include multi-levels, sounds, touch controls, and high score saving.</p>
        <ul>
            <li>Power-ups: Randomly appear for extra lives or speed.</li>
            <li>Difficulty: Increases per level.</li>
            <li>Accessibility: Keyboard and touch support.</li>
        </ul>
    </section>

    <section id="highScores">
        <h2>High Scores</h2>
        <ul id="highScoreList"></ul>
        <button onclick="resetHighScores()">Reset High Scores</button>
    </section>

    <section id="blog">
        <h2>Blog Posts</h2>
        <article>
            <h3>Update 1.0: New Levels Added</h3>
            <p>We've added three new challenging levels with unique obstacles. Check them out!</p>
            <small>Posted on September 23, 2025</small>
        </article>
        <article>
            <h3>Tips for Mastering the Game</h3>
            <p>Learn advanced jumping techniques and enemy patterns to boost your score.</p>
            <small>Posted on September 15, 2025</small>
        </article>
        <article>
            <h3>Community Spotlight</h3>
            <p>Featuring top players and their strategies.</p>
            <small>Posted on September 1, 2025</small>
        </article>
    </section>

    <section id="contact">
        <h2>Contact Us</h2>
        <form id="contactForm" onsubmit="submitContact(event)">
            <label for="name">Name:</label>
            <input type="text" id="name" required>
            <label for="email">Email:</label>
            <input type="email" id="email" required>
            <label for="message">Message:</label>
            <textarea id="message" required></textarea>
            <button type="submit">Send</button>
        </form>
        <div id="formResponse"></div>
    </section>

    <section id="about">
        <h2>About This Site</h2>
        <p>This is a comprehensive web platform for the Pixel Adventure game, featuring responsive design, theme switching, sound controls, fullscreen mode, cookie consent, site search, modals, sharing, and more. Built with pure HTML, CSS, and JS for GitHub Pages.</p>
    </section>

    <footer>
        <p>&copy; 2025 Ultimate Pixel Games. All rights reserved.</p>
        <p><a href="#top" style="color: var(--text-color);">Back to Top</a> | <a href="privacy.html" style="color: var(--text-color);">Privacy Policy</a> | <a href="terms.html" style="color: var(--text-color);">Terms of Service</a></p>
    </footer>

    <button id="themeToggle" onclick="toggleTheme()">Toggle Theme</button>
    <button id="soundToggle" onclick="toggleSound()">Sound: On</button>
    <button id="fullscreenBtn" onclick="toggleFullscreen()">Fullscreen</button>

    <div id="cookieConsent">
        <p>We use cookies for better experience. <button onclick="acceptCookies()">Accept</button> <button onclick="declineCookies()">Decline</button></p>
    </div>

    <div id="modal">
        <span id="closeModal" onclick="closeModal()">&times;</span>
        <h2>Modal Title</h2>
        <p id="modalContent">Modal content here.</p>
    </div>

    <script>
        // Game variables and functions (extended from previous)
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const pixelSize = 10;
        const gravity = 0.5;
        const jumpPower = -10;
        const maxLevels = 5; // Increased levels

        let player = { x: 5, y: 40, vx: 0, vy: 0, width: 1, height: 1, onGround: false, lives: 3 };
        let score = 0;
        let level = 1;
        let keys = {};
        let gameOver = false;
        let highScores = JSON.parse(localStorage.getItem('highScores')) || [];
        let audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        let soundEnabled = true;
        let powerUps = []; // New: Power-ups

        function getLevelData(lvl) {
            // Extended with more levels
            let platforms, enemies, coins, goal;
            // ... (similar to previous, add more for levels 4 and 5)
            if (lvl === 1) { /* data */ }
            else if (lvl === 2) { /* data */ }
            else if (lvl === 3) { /* data */ }
            else if (lvl === 4) {
                platforms = [/* more complex platforms */];
                enemies = [/* more enemies */];
                coins = [/* more coins */];
                goal = { x: 60, y: 20 };
            } else if (lvl === 5) {
                platforms = [/* even more */];
                enemies = [/* boss-like */];
                coins = [/* hidden */];
                goal = { x: 62, y: 10 };
            }
            powerUps = [{ x: Math.random() * 60 + 2, y: 30, type: 'life' }]; // Random power-up
            return { platforms, enemies, coins, goal };
        }

        let { platforms, enemies, coins, goal } = getLevelData(level);

        // ... (rest of game functions like draw, update, etc., with additions for power-ups)

        function checkPowerUps() {
            powerUps = powerUps.filter(p => {
                if (Math.abs(player.x - p.x) < 1 && Math.abs(player.y - p.y) < 1) {
                    if (p.type === 'life') player.lives++;
                    playSound(1000, 100);
                    return false;
                }
                return true;
            });
        }

        // Integrate checkPowerUps in checkCollisions

        // Theme toggle
        function toggleTheme() {
            document.body.classList.toggle('light-mode');
            localStorage.setItem('theme', document.body.classList.contains('light-mode') ? 'light' : 'dark');
        }
        if (localStorage.getItem('theme') === 'light') toggleTheme();

        // Sound toggle
        function toggleSound() {
            soundEnabled = !soundEnabled;
            document.getElementById('soundToggle').innerText = `Sound: ${soundEnabled ? 'On' : 'Off'}`;
        }

        // Fullscreen
        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                canvas.requestFullscreen();
            } else {
                document.exitFullscreen();
            }
        }

        // Cookie consent
        if (!localStorage.getItem('cookiesAccepted')) {
            document.getElementById('cookieConsent').style.display = 'block';
        }
        function acceptCookies() {
            localStorage.setItem('cookiesAccepted', 'true');
            document.getElementById('cookieConsent').style.display = 'none';
        }
        function declineCookies() {
            document.getElementById('cookieConsent').style.display = 'none';
        }

        // Site search (simple JS search)
        function searchSite() {
            const query = document.getElementById('siteSearch').value.toLowerCase();
            const results = document.getElementById('searchResults');
            results.innerHTML = '';
            const sections = document.querySelectorAll('section');
            sections.forEach(sec => {
                if (sec.textContent.toLowerCase().includes(query)) {
                    const p = document.createElement('p');
                    p.textContent = `Found in ${sec.id}: ${sec.textContent.substring(0, 100)}...`;
                    results.appendChild(p);
                }
            });
        }

        // Contact form (fake submit)
        function submitContact(e) {
            e.preventDefault();
            document.getElementById('formResponse').innerText = 'Thank you for your message!';
            setTimeout(() => document.getElementById('formResponse').innerText = '', 3000);
        }

        // Share game (fake)
        function shareGame(platform) {
            alert(`Sharing on ${platform}! (Fake share)`);
        }

        // Modal
        function showModal(title, content) {
            document.getElementById('modal').style.display = 'block';
            document.getElementById('modal').querySelector('h2').innerText = title;
            document.getElementById('modalContent').innerText = content;
        }
        function closeModal() {
            document.getElementById('modal').style.display = 'none';
        }

        // Reset high scores
        function resetHighScores() {
            highScores = [];
            localStorage.setItem('highScores', JSON.stringify(highScores));
            displayHighScores();
        }

        // Display high scores
        function displayHighScores() {
            const list = document.getElementById('highScoreList');
            list.innerHTML = '';
            highScores.forEach((s, i) => {
                const li = document.createElement('li');
                li.textContent = `#${i+1}: ${s}`;
                list.appendChild(li);
            });
        }

        // Event listeners (as before)
        document.addEventListener('keydown', e => {
            keys[e.key] = true;
            if (e.key === ' ') e.preventDefault();
        });
        document.addEventListener('keyup', e => keys[e.key] = false);

        // Touch controls (as before)

        // Game loop (as before)

        displayHighScores();
        gameLoop();

        // Example modal on load
        setTimeout(() => showModal('Welcome!', 'Enjoy the game and explore the site!'), 2000);
    </script>
</body>
</html>
